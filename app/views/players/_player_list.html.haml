%table.pretty
  %tr
    %th= sortable_column "name", "Name"
    %th= sortable_column "rank", "Rank"
    %th= sortable_column "main", "Main"
    %th= sortable_column "archetype", "Class"
    %th
    - if logged_in?
      %th
      %th
  - @players.each do |player|
    %tr
      %td= player.name
      %td= player.rank ? player.rank.name : "Unknown"
      %td= player.main_character ? player.main_character.name : player.name
      %td= player.archetype ? player.archetype.name : "Unknown"
      %td= link_to 'Show', player
      - if logged_in?
        %td= link_to 'Edit', edit_player_path(player)
        %td= link_to 'Destroy', player, :confirm => 'Are you sure?', :method => :delete